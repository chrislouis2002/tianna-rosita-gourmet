import{Q as P,a as q,b as i,c as p}from"./QList.34320e46.js";import{Q as f}from"./QCard.c7ffef23.js";import{Q as m}from"./QInput.7ca5b1e8.js";import{Q}from"./QBtn.0ed4ff6d.js";import{Q as x}from"./QPage.dbeb7ace.js";import{u as V}from"./menus.4a052303.js";import{_ as C,u as g,d as v,j as n,k as h,m as s,q as o,P as _,V as I,s as d,R as l,S,U as w,Q as r,W as N,X as B}from"./index.e7825c9e.js";import"./focus-manager.4ef6e81e.js";const L=g({name:"CheckoutPage",setup(){const e=V(),t=v({name:"",email:"",phone:""});return{store:e,customer:t,payWithPaystack:()=>{if(!window.PaystackPop){alert("Paystack SDK not loaded yet!");return}window.PaystackPop.setup({key:"pk_test_xxxxxxxxxxxxxx",email:t.email,amount:e.cartTotal*100,currency:"NGN",ref:""+Math.floor(Math.random()*1e9+1),metadata:{custom_fields:[{display_name:t.name,variable_name:"mobile_number",value:t.phone}]},callback:function(c){alert("Payment successful! Reference: "+c.reference)},onClose:function(){alert("Transaction cancelled.")}}).openIframe()}}}}),u=e=>(N("data-v-8508989e"),e=e(),B(),e),T=u(()=>r("h2",{class:"text-h5 q-mb-md"},"Checkout",-1)),U=u(()=>r("h3",{class:"text-h6 q-mb-sm"},"Your Order",-1)),W={key:0},$={class:"text-right text-h6 q-mt-md"},D=u(()=>r("h3",{class:"text-h6 q-mb-sm"},"Your Details",-1));function M(e,t,y,k,c,z){return n(),h(x,{class:"q-pa-md"},{default:s(()=>[T,o(f,{class:"q-pa-md q-mb-md"},{default:s(()=>[U,o(P,{bordered:""},{default:s(()=>[(n(!0),_(w,null,I(e.store.cart,(a,b)=>(n(),h(q,{key:b},{default:s(()=>[o(i,null,{default:s(()=>[o(p,null,{default:s(()=>[d(l(a.name)+" ",1),a.size?(n(),_("span",W,"("+l(a.size)+")",1)):S("",!0)]),_:2},1024),o(p,{caption:""},{default:s(()=>[d("Qty: "+l(a.quantity),1)]),_:2},1024)]),_:2},1024),o(i,{side:""},{default:s(()=>[d(" \u20A6"+l((a.price*a.quantity).toLocaleString()),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),r("div",$," Total: \u20A6"+l(e.store.cartTotal.toLocaleString()),1)]),_:1}),o(f,{class:"q-pa-md q-mb-md"},{default:s(()=>[D,o(m,{modelValue:e.customer.name,"onUpdate:modelValue":t[0]||(t[0]=a=>e.customer.name=a),label:"Full Name",outlined:"",dense:"",class:"q-mb-sm"},null,8,["modelValue"]),o(m,{modelValue:e.customer.email,"onUpdate:modelValue":t[1]||(t[1]=a=>e.customer.email=a),label:"Email",type:"email",outlined:"",dense:"",class:"q-mb-sm"},null,8,["modelValue"]),o(m,{modelValue:e.customer.phone,"onUpdate:modelValue":t[2]||(t[2]=a=>e.customer.phone=a),label:"Phone Number",outlined:"",dense:""},null,8,["modelValue"])]),_:1}),o(Q,{color:"red",label:"Pay with Paystack",class:"full-width q-py-sm",onClick:e.payWithPaystack,disable:!e.customer.name||!e.customer.email},null,8,["onClick","disable"])]),_:1})}var X=C(L,[["render",M],["__scopeId","data-v-8508989e"]]);export{X as default};
